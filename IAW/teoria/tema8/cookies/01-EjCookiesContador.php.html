<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<title>01-EjCookiesContador.php</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<meta name="generator" content="Geany 1.32" />
	<meta name="date" content="2018-02-07T10:04:29+0100" />
	<style type="text/css">
	body
	{
		font-family: Monospace, monospace;
		font-size: 10pt;
	}
	.style_0
	{
		color: #000000;
		background-color: #ffffff;
	}
	.style_1
	{
		color: #2e8b57;
		background-color: #ffffff;
		font-weight: bold;
	}
	.style_3
	{
		color: #003030;
		background-color: #ffffff;
		font-weight: bold;
	}
	.style_6
	{
		color: #008000;
		background-color: #ffffff;
	}
	.style_8
	{
		color: #404080;
		background-color: #ffffff;
	}
	.style_18
	{
		color: #400080;
		background-color: #ffffff;
	}
	.style_21
	{
		color: #000000;
		background-color: #ffffff;
	}
	.style_22
	{
		color: #400080;
		background-color: #ffffff;
	}
	.style_23
	{
		color: #003030;
		background-color: #ffffff;
		font-weight: bold;
	}
	.style_24
	{
		color: #008000;
		background-color: #ffffff;
	}
	.style_118
	{
		color: #000000;
		background-color: #ffffff;
	}
	.style_119
	{
		color: #008000;
		background-color: #ffffff;
	}
	.style_120
	{
		color: #008000;
		background-color: #ffffff;
	}
	.style_121
	{
		color: #003030;
		background-color: #ffffff;
		font-weight: bold;
	}
	.style_122
	{
		color: #400080;
		background-color: #ffffff;
	}
	.style_123
	{
		color: #808000;
		background-color: #ffffff;
	}
	.style_125
	{
		color: #808080;
		background-color: #ffffff;
	}
	.style_126
	{
		color: #808000;
		background-color: #ffffff;
	}
	.style_127
	{
		color: #300080;
		background-color: #ffffff;
	}

	</style>
</head>

<body>
<p>
<span class="style_21">&lt;!</span><span class="style_22">DOCTYPE&nbsp;</span><span class="style_23">HTML&nbsp;</span><span class="style_21">PUBLIC&nbsp;</span><span class="style_24">"-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN"</span><span class="style_21">&gt;</span><br />
<br />
<span class="style_1">&lt;html&gt;</span><br />
<span class="style_1">&lt;head&gt;</span><br />
<span class="style_1">&lt;title&gt;</span><span class="style_0">Cookies&nbsp;en&nbsp;PHP</span><span class="style_1">&lt;/title&gt;</span><br />
<br />
&nbsp;&nbsp;<span class="style_1">&lt;link&nbsp;</span><span class="style_3">rel</span><span class="style_8">=</span><span class="style_6">"STYLESHEET"&nbsp;</span><span class="style_3">type</span><span class="style_8">=</span><span class="style_6">"text/css"&nbsp;</span><span class="style_3">href</span><span class="style_8">=</span><span class="style_6">"../ejemplos.css"</span><span class="style_1">&gt;</span><br />
<br />
<span class="style_1">&lt;/head&gt;</span><br />
<br />
<br />
<span class="style_1">&lt;body&gt;</span><br />
<span class="style_1">&lt;div&nbsp;</span><span class="style_3">align</span><span class="style_8">=</span><span class="style_6">"center"</span><span class="style_1">&gt;</span><br />
&nbsp;&nbsp;<span class="style_1">&lt;h1&gt;</span><span class="style_0">Contador</span><span class="style_1">&lt;/h1&gt;</span><br />
&nbsp;&nbsp;<span class="style_1">&lt;h2&gt;&lt;/h2&gt;</span><br />
<span class="style_1">&lt;/div&gt;</span><br />
<br />
<br />
<span class="style_18">&lt;?</span><br />
&nbsp;&nbsp;<span class="style_121">if</span><span class="style_127">(&nbsp;</span><span class="style_121">isset</span><span class="style_127">(&nbsp;</span><span class="style_123">$_COOKIE</span><span class="style_127">[</span><span class="style_120">'contador'</span><span class="style_127">]&nbsp;)&nbsp;)&nbsp;</span><span class="style_125">//Si&nbsp;existe&nbsp;la&nbsp;cookie</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_123">$numero&nbsp;</span><span class="style_127">=&nbsp;</span><span class="style_123">$_COOKIE</span><span class="style_127">[</span><span class="style_120">'contador'</span><span class="style_127">];</span><br />
&nbsp;&nbsp;<span class="style_121">else&nbsp;</span><span class="style_125">//Si&nbsp;no&nbsp;existe&nbsp;iniciamos&nbsp;a&nbsp;0.</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_123">$numero&nbsp;</span><span class="style_127">=&nbsp;</span><span class="style_122">0</span><span class="style_127">;</span><br />
<br />
&nbsp;&nbsp;<span class="style_123">$numero</span><span class="style_127">++;&nbsp;</span><span class="style_125">//Incrementamos&nbsp;las&nbsp;visitas</span><br />
<br />
&nbsp;&nbsp;<span class="style_118">setcookie</span><span class="style_127">(</span><span class="style_119">"contador"</span><span class="style_127">,</span><span class="style_123">$numero</span><span class="style_127">,</span><span class="style_118">time</span><span class="style_127">()+</span><span class="style_122">3600</span><span class="style_127">);</span><br />
<br />
&nbsp;&nbsp;<span class="style_121">echo&nbsp;</span><span class="style_119">"&lt;p&nbsp;align='center'&gt;&nbsp;Es&nbsp;la&nbsp;</span><span class="style_126">$numero&nbsp;</span><span class="style_119">vez&nbsp;que&nbsp;visitas&nbsp;esta&nbsp;p&amp;aacute;gina&lt;/p&gt;"</span><span class="style_127">;</span><br />
<br />
<span class="style_18">?&gt;</span><br />
<br />
<br />
<span class="style_1">&lt;form&nbsp;</span><span class="style_3">action</span><span class="style_8">=</span><span class="style_6">"indiceCookies.html"&nbsp;</span><span class="style_3">method</span><span class="style_8">=</span><span class="style_6">"POST"</span><span class="style_1">&gt;</span><br />
&nbsp;&nbsp;<span class="style_1">&lt;p&nbsp;</span><span class="style_3">align</span><span class="style_8">=</span><span class="style_6">"center"</span><span class="style_1">&gt;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_1">&lt;input&nbsp;</span><span class="style_3">type</span><span class="style_8">=</span><span class="style_6">"submit"&nbsp;</span><span class="style_3">name</span><span class="style_8">=</span><span class="style_6">"submit"&nbsp;</span><span class="style_3">value</span><span class="style_8">=</span><span class="style_6">"Volver"&nbsp;</span><span class="style_3">align</span><span class="style_8">=</span><span class="style_6">"middle"</span><span class="style_1">&gt;</span><br />
&nbsp;&nbsp;<span class="style_1">&lt;/p&gt;</span><br />
<span class="style_1">&lt;/form&gt;</span><br />
<br />
<span class="style_1">&lt;form&nbsp;</span><span class="style_3">action</span><span class="style_8">=</span><span class="style_6">"</span><span class="style_18">&lt;?php&nbsp;</span><span class="style_121">echo&nbsp;</span><span class="style_123">$_SERVER</span><span class="style_127">[</span><span class="style_120">'PHP_SELF'</span><span class="style_127">];&nbsp;</span><span class="style_18">?&gt;</span><span class="style_6">"&nbsp;</span><span class="style_3">method</span><span class="style_8">=</span><span class="style_6">"POST"</span><span class="style_1">&gt;</span><br />
&nbsp;&nbsp;<span class="style_1">&lt;p&nbsp;</span><span class="style_3">align</span><span class="style_8">=</span><span class="style_6">"center"</span><span class="style_1">&gt;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_1">&lt;input&nbsp;</span><span class="style_3">type</span><span class="style_8">=</span><span class="style_6">"submit"&nbsp;</span><span class="style_3">name</span><span class="style_8">=</span><span class="style_6">"submit"&nbsp;</span><span class="style_3">value</span><span class="style_8">=</span><span class="style_6">"Recargar"&nbsp;</span><span class="style_3">align</span><span class="style_8">=</span><span class="style_6">"middle"</span><span class="style_1">&gt;</span><br />
&nbsp;&nbsp;<span class="style_1">&lt;/p&gt;</span><br />
<span class="style_1">&lt;/form&gt;</span><br />
<br />
<span class="style_1">&lt;/body&gt;</span><br />
<span class="style_1">&lt;/html&gt;</span><br />

</p>
</body>
</html>
